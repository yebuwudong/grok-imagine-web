# Grok Imagine Web

### 特别说明：本项目完全由 AI生成

这个 Grok Imagine Web 前端从零到一（包括所有 HTML、CSS、JavaScript 逻辑、UI 设计、移动端优化、iOS 下载修复、配置系统等）全部由ai在与用户的多轮对话中逐步迭代生成。

- 没有手动编写一行代码  
- 没有复制任何现有开源项目  
- 所有功能、修复、优化都是通过自然语言描述需求 → 输出代码 → 测试反馈 → 继续迭代 的方式完成  


一个美观、功能丰富、完全静态的 Grok Imagine 前端网页，支持图像生成、视频生成、参考图变体、历史记录持久化、多选批量下载等功能。专为移动端与桌面端优化，完美适配 iOS Safari。

更新日志 - v2.3.1 (2026-02-26)
优化适配后端参数，所有模式改为流式持续生成，下载逻辑优化



## 更新日志 - v2.3.0 (2026-02-09)

### 🎉 新特性
- **图像编辑模式支持多张参考图**  
  - 最多支持 16 张参考图像上传（完全符合后端 `/images/edits` 接口限制）
  - 支持网格预览所有上传图片，计数实时显示
  - 提示词可自由描述多图组合/编辑方式（如“将左图人物放到右图背景中”）

- **参考图像在所有模式均为可选**  
  - 图像生成/视频生成：参考图可选（上传多张时自动取第一张）
  - 图像编辑：参考图必填（少于1张时禁止生成）

### ⚙️ 其他优化
- **历史记录优化**  
  - 移除 50 条硬限制
  - 存储上限提升至 20MB，超出时自动清理一半旧记录（保留最新）

<img src="https://t.wu666.eu.org/file/1770618678590_IMG_1037.jpeg" alt="IMG_1037.jpeg" width=100% />

<img src="https://t.wu666.eu.org/file/1770618685346_IMG_1036.jpeg" alt="IMG_1036.jpeg" width=100% />


## 主要特性

- **图像 & 视频生成**：支持 `grok-imagine-1.0`（图像）和 `grok-imagine-1.0-video`（视频）模型
- **参考图像变体**：上传图片后可生成不同强度的变体
- **批量生成**：一次最多生成 10 张图像
- **历史记录持久化**：基于 localStorage，刷新不丢失（最多 50 条）
- **多选批量下载**：长按/双击进入多选模式，iOS Safari 实测可靠批量下载
- **原始文件名下载**：自动提取服务器返回的唯一文件名（带正确扩展名）
- **移动端友好**：响应式布局、触摸优化、iOS 全屏适配
- **零硬编码**：API 地址和 Key 通过配置窗口或 URL 参数设置，安全保存于浏览器本地
- **完全静态**：单个 `index.html` 文件，无需后端，可直接部署在 GitHub Pages

## 快速部署（推荐 GitHub Pages）

1. 点击右上角 **Fork** 本仓库，或新建仓库
2. 将仓库中的 `index.html` 文件保留（或直接复制本页提供的完整代码）
3. 进入仓库 **Settings → Pages**
   - Source 选择 `main` 分支和 `/ (root)` 目录
   - 点击 Save
4. 等待几分钟，即可通过以下地址访问：  
   `https://你的用户名.github.io/仓库名/`

## 如何使用

1. **首次打开**：会自动弹出 **API 配置** 窗口  
   - 填写 **API Base URL**（例如：`https://127.0.0.1/v1` 或你自己的反代地址）
   - 填写 **API Key**（以 `sk-` 开头的密钥）
   - （可选）修改历史记录 Key
   - 点击“保存并继续”

2. **后续访问**：配置自动加载，无需重复填写

3. 访问后会自动保存配置并直接可用（Key 仅在用户浏览器保存）

4. **生成图像/视频**：
   - 选择模型
   - 输入详细提示词
   - （可选）上传参考图像
   - 点击“生成”

5. **下载**：
   - 单张：点击卡片下方的“下载图像/视频”
   - 批量：双击（桌面）或长按（移动端）任意卡片进入多选模式 → 全选或勾选 → “下载选中”

6. **清除历史**：右上角红色垃圾桶按钮

## 注意事项

- **API Key 安全**：Key 仅保存在用户本地 `localStorage`，**不会上传到任何服务器**。请放心使用，但不要分享包含 Key 的链接给不信任的人。
- **配额与速率限制**：取决于你使用的后端 API 服务，请合理使用。
- **视频生成**：目前仅支持单条生成，预览使用原生 `<video>` 标签。
- **浏览器兼容**：推荐 Chrome / Safari / Firefox 最新版，iOS Safari 已深度优化。
- **存储限制**：历史记录受浏览器 localStorage 大小限制（约 5-10MB），超出后会自动清理。

## 常见问题

**Q：生成失败提示“API 配置未完成”？**  
A：点击左上角齿轮 ⚙️ 按钮重新填写 Base URL 和 Key。

**Q：批量下载在 iOS 上只下一个？**  
A：本版本已通过 2000ms 间隔优化，实测 iOS 17/18 可正常下载全部。若仍有问题，请尝试单张下载或使用“复制链接”手动保存。

**Q：如何更新代码？**  
A：直接替换仓库中的 `index.html` 为最新版本，GitHub Pages 会自动更新。

## 贡献 & 反馈

欢迎提交 Pull Request！  

